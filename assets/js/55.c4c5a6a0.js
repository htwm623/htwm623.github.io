(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{567:function(s,t,a){"use strict";a.r(t);var n=a(7),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"cypress"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cypress"}},[s._v("#")]),s._v(" cypress")]),s._v(" "),a("ol",[a("li",[s._v("可以测试 UI UI--对象识别--DOM--定位对象")]),s._v(" "),a("li",[s._v("可以直接测试接口,而非点击按钮")])]),s._v(" "),a("p",[s._v("​")]),s._v(" "),a("p",[s._v("​")]),s._v(" "),a("h2",{attrs:{id:"cypress-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cypress-安装"}},[s._v("#")]),s._v(" cypress 安装")]),s._v(" "),a("ul",[a("li",[s._v("在 node 项目中 执行 "),a("code",[s._v("npm i cypress")])]),s._v(" "),a("li",[s._v("安装完成之后 执行 "),a("code",[s._v("npx cypress open")]),s._v(",会打开 cypress 的一个窗口,同时在项目中生成 cypress 文件夹")]),s._v(" "),a("li",[s._v("测试用例示例在 cypress/integration 中, 如图所示(建议大致读一遍,大部分该怎么写基本都有)")]),s._v(" "),a("li",[a("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2021/png/754067/1621777801642-d01f7325-4f7f-4234-a591-1dcc619fc583.png#clientId=u22045363-ed84-4&from=paste&height=524&id=u3bab9ff9&margin=%5Bobject%20Object%5D&name=image.png&originHeight=524&originWidth=409&originalType=binary%E2%88%B6=1&size=261205&status=done&style=none&taskId=u2795a692-630d-4685-9132-66d3ecf38ce&width=409",alt:"image.png"}})])]),s._v(" "),a("h2",{attrs:{id:"cypress-hello-world"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cypress-hello-world"}},[s._v("#")]),s._v(" cypress hello world")]),s._v(" "),a("ol",[a("li",[s._v("在 integration 文件夹下创建 js 文件 testSearch.js")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("context")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"搜索测试测试"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("it")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"输入搜索"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    cy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("visit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://htwm623.github.io/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    cy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#app > div.theme-container.no-sidebar.custom-page-class > div > div:nth-child(3) > header > div.links > div.search-box > input"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("vue{enter}")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[a("p",[s._v("在 cypress 图形界面里(最终执行可以不使用图形界面 m'mii),可以看到这个脚本,点击脚本便可以执行")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2021/png/754067/1621779970256-03c14b32-307e-46b7-bd05-18f96e8f4e8e.png#clientId=u22045363-ed84-4&from=paste&height=293&id=ud96cea19&margin=%5Bobject%20Object%5D&name=image.png&originHeight=293&originWidth=563&originalType=binary%E2%88%B6=1&size=20512&status=done&style=none&taskId=u78754926-8cae-4f0c-a49d-a7076baf6ce&width=563",alt:"image.png"}})])])]),s._v(" "),a("h2",{attrs:{id:"命令行启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命令行启动"}},[s._v("#")]),s._v(" 命令行启动")]),s._v(" "),a("ol",[a("li",[s._v("执行所有测试, 会默认启动 electron 无头浏览器运行用例，运行完会在控制台生成报告")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("npx cypress run\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("指定浏览器 "),a("code",[s._v("npx cypress run --browser chrome")])]),s._v(" "),a("li",[s._v("执行指定的 js 脚本 "),a("code",[s._v('npx cypress run --spec "cypress/integration/web/testSearch.js"')])]),s._v(" "),a("li",[s._v("通过 cypress.json 文件指定查找规则，例如只执行 web 文件下所有 js 文件")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"viewportWidth"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1280")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"viewportHeight"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("600")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"integrationFolder"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cypress/integration/web"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"testFiles"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"**/*.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"chromeWebSecurity"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("ul",[a("li",[s._v("其余代码已上传"),a("a",{attrs:{href:"https://github.com/htwm623/cypress-demo",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/htwm623/cypress-demo"),a("OutboundLink")],1)])]),s._v(" "),a("p",[s._v("​")]),s._v(" "),a("h2",{attrs:{id:"参考资料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[s._v("#")]),s._v(" 参考资料")]),s._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"https://www.bilibili.com/video/BV1DQ4y1o7GY",target:"_blank",rel:"noopener noreferrer"}},[s._v("bilibili-惠测-Cypress 框架"),a("OutboundLink")],1),s._v("​")]),s._v(" "),a("li",[a("a",{attrs:{href:"https://docs.cypress.io/guides/getting-started/installing-cypress",target:"_blank",rel:"noopener noreferrer"}},[s._v("cypress 官方文档"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://www.cnblogs.com/yoyoketang/p/12974805.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("cnblogs-yoyoketang-Cypress web 自动化 22-命令行运行用例"),a("OutboundLink")],1),s._v("​")])])])}),[],!1,null,null,null);t.default=e.exports}}]);