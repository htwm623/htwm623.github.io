(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{580:function(s,a,t){"use strict";t.r(a);var e=t(8),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("由于安全问题,云服务器运营商会默认限制部分端口的访问,如 samba 使用的 445 端口,则导致默认设置的 samba 无法访问,自己解决方案如下")]),s._v(" "),t("ol",[t("li",[s._v("linux samba 修改监听端口")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 直接在samba 配置文件中添加以下语句")]),s._v("\nsmb ports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4455")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启smb服务 则samba监听端口修改为4455")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[s._v("windows 设置端口转发\n原文来自于 "),t("a",{attrs:{href:"https://www.zhihu.com/question/59814912",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.zhihu.com/question/59814912"),t("OutboundLink")],1)])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. 添加端口转发,添加端口转发之后 实际上访问 \\\\127.0.0.1 就是在访问设置ip的samba")]),s._v("\nnetsh interface portproxy "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" v4tov4 "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("listenport")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("445")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("listenaddress")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1 "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("connectport")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4455")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("connectaddress")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("xx.xx.xx.xxx\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 其他命令")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看全部端口转发")]),s._v("\nnetsh interface portproxy show all\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除端口转发")]),s._v("\nnetsh interface portproxy delete v4tov4 "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("listenport")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("445")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("listenaddress")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("ol",{attrs:{start:"3"}},[t("li",[s._v("通过资源管理器访问 \\127.0.0.1 实际上就是在访问监听端口的 samba")])]),s._v(" "),t("p",[s._v("ps: 亲测有效(2019/12/22)")])])}),[],!1,null,null,null);a.default=n.exports}}]);